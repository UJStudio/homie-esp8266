



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.6.0">
    
    
      
        <title>API reference - Homie for ESP8266</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.1b62728e.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#ef5350">
      
    
    
      <script src="../assets/javascripts/modernizr.268332fc.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="red" data-md-color-accent="red">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#api-reference" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Homie for ESP8266" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Homie for ESP8266
            </span>
            <span class="md-header-nav__topic">
              
                API reference
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/homieiot/homie-esp8266/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    homieiot/homie-esp8266
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="Homie for ESP8266" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Homie for ESP8266
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/homieiot/homie-esp8266/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    homieiot/homie-esp8266
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../1.-What-is-it/" title="What is it?" class="md-nav__link">
      What is it?
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2.-Getting-started/" title="Getting started" class="md-nav__link">
      Getting started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../3.-Advanced-usage/" title="Advanced usage" class="md-nav__link">
      Advanced usage
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../4.-OTA/" title="OTA" class="md-nav__link">
      OTA
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../5.-JSON-configuration-file/" title="JSON configuration file" class="md-nav__link">
      JSON configuration file
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../6.-Configuration-API/" title="Configuration API" class="md-nav__link">
      Configuration API
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        API reference
      </label>
    
    <a href="./" title="API reference" class="md-nav__link md-nav__link--active">
      API reference
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#homie-object" class="md-nav__link">
    Homie object
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#void-homiesetup" class="md-nav__link">
    void Homie.setup ()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-homieloop" class="md-nav__link">
    void Homie.loop ()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-homieenablelogging-bool-enable" class="md-nav__link">
    void Homie.enableLogging (bool enable)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-homieenablebuiltinledindicator-bool-enable" class="md-nav__link">
    void Homie.enableBuiltInLedIndicator (bool enable)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-homiesetledpin-unsigned-char-pin-unsigned-char-on" class="md-nav__link">
    void Homie.setLedPin (unsigned char pin, unsigned char on)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-homiesetbrand-const-char42-name" class="md-nav__link">
    void Homie.setBrand (const char* name)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-homiesetfirmware-const-char42-name-const-char42-version" class="md-nav__link">
    void Homie.setFirmware (const char* name, const char* version)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-homieregisternode-homienode-node" class="md-nav__link">
    void Homie.registerNode (HomieNode node)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-homiesetglobalinputhandler-stdfunction-handler" class="md-nav__link">
    void Homie.setGlobalInputHandler (std::function handler)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-homieonevent-stdfunction-callback" class="md-nav__link">
    void Homie.onEvent (std::function callback)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-homiesetresettrigger-unsigned-char-pin-unsigned-char-state-unsigned-int-time" class="md-nav__link">
    void Homie.setResetTrigger (unsigned char pin, unsigned char state, unsigned int time)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-homiedisableresettrigger" class="md-nav__link">
    void Homie.disableResetTrigger ()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-homiesetresetfunction-stdfunction-callback" class="md-nav__link">
    void Homie.setResetFunction (std::function callback)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-homiesetsetupfunction-stdfunction-callback" class="md-nav__link">
    void Homie.setSetupFunction (std::function callback)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-homiesetloopfunction-stdfunction-callback" class="md-nav__link">
    void Homie.setLoopFunction (std::function callback)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-homiesetnodeproperty-homienode-node-string-property-string-value-bool-retained-true" class="md-nav__link">
    void Homie.setNodeProperty (HomieNode node, String property, String value, bool retained = true)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-homiesetresettable-bool-resettable" class="md-nav__link">
    void Homie.setResettable (bool resettable)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bool-homieisreadytooperate" class="md-nav__link">
    bool Homie.isReadyToOperate ()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#homienode-object" class="md-nav__link">
    HomieNode object
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#void-homienode-const-char42-id-const-char42-type-stdfunction-handler-bool-subscribetoall-false" class="md-nav__link">
    void HomieNode (const char* id, const char* type, std::function handler = , bool subscribeToAll = false)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-subscribe-const-char42-property-stdfunction-handler" class="md-nav__link">
    void .subscribe (const char* property, std::function handler) = )
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../8.-Limitations-and-known-issues/" title="Limitations and known issues" class="md-nav__link">
      Limitations and known issues
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../9.-Troubleshooting/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#homie-object" class="md-nav__link">
    Homie object
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#void-homiesetup" class="md-nav__link">
    void Homie.setup ()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-homieloop" class="md-nav__link">
    void Homie.loop ()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-homieenablelogging-bool-enable" class="md-nav__link">
    void Homie.enableLogging (bool enable)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-homieenablebuiltinledindicator-bool-enable" class="md-nav__link">
    void Homie.enableBuiltInLedIndicator (bool enable)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-homiesetledpin-unsigned-char-pin-unsigned-char-on" class="md-nav__link">
    void Homie.setLedPin (unsigned char pin, unsigned char on)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-homiesetbrand-const-char42-name" class="md-nav__link">
    void Homie.setBrand (const char* name)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-homiesetfirmware-const-char42-name-const-char42-version" class="md-nav__link">
    void Homie.setFirmware (const char* name, const char* version)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-homieregisternode-homienode-node" class="md-nav__link">
    void Homie.registerNode (HomieNode node)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-homiesetglobalinputhandler-stdfunction-handler" class="md-nav__link">
    void Homie.setGlobalInputHandler (std::function handler)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-homieonevent-stdfunction-callback" class="md-nav__link">
    void Homie.onEvent (std::function callback)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-homiesetresettrigger-unsigned-char-pin-unsigned-char-state-unsigned-int-time" class="md-nav__link">
    void Homie.setResetTrigger (unsigned char pin, unsigned char state, unsigned int time)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-homiedisableresettrigger" class="md-nav__link">
    void Homie.disableResetTrigger ()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-homiesetresetfunction-stdfunction-callback" class="md-nav__link">
    void Homie.setResetFunction (std::function callback)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-homiesetsetupfunction-stdfunction-callback" class="md-nav__link">
    void Homie.setSetupFunction (std::function callback)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-homiesetloopfunction-stdfunction-callback" class="md-nav__link">
    void Homie.setLoopFunction (std::function callback)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-homiesetnodeproperty-homienode-node-string-property-string-value-bool-retained-true" class="md-nav__link">
    void Homie.setNodeProperty (HomieNode node, String property, String value, bool retained = true)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-homiesetresettable-bool-resettable" class="md-nav__link">
    void Homie.setResettable (bool resettable)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bool-homieisreadytooperate" class="md-nav__link">
    bool Homie.isReadyToOperate ()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#homienode-object" class="md-nav__link">
    HomieNode object
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#void-homienode-const-char42-id-const-char42-type-stdfunction-handler-bool-subscribetoall-false" class="md-nav__link">
    void HomieNode (const char* id, const char* type, std::function handler = , bool subscribeToAll = false)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-subscribe-const-char42-property-stdfunction-handler" class="md-nav__link">
    void .subscribe (const char* property, std::function handler) = )
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/homieiot/homie-esp8266/edit/master/docs/7.-API-reference.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="api-reference">API reference<a class="headerlink" href="#api-reference" title="Permanent link">&para;</a></h1>
<h3 id="homie-object">Homie object<a class="headerlink" href="#homie-object" title="Permanent link">&para;</a></h3>
<p>You don't have to instantiate an <code class="codehilite"><span class="err">Homie</span></code> instance, it is done internally.</p>
<h4 id="void-homiesetup">void Homie.setup ()<a class="headerlink" href="#void-homiesetup" title="Permanent link">&para;</a></h4>
<p>Setup Homie. Must be called once in <code class="codehilite"><span class="err">setup()</span></code>.</p>
<h4 id="void-homieloop">void Homie.loop ()<a class="headerlink" href="#void-homieloop" title="Permanent link">&para;</a></h4>
<p>Handle Homie work. Must be called in <code class="codehilite"><span class="err">loop()</span></code>.</p>
<h4 id="void-homieenablelogging-bool-enable">void Homie.enableLogging (bool <code class="codehilite"><span class="err">enable</span></code>)<a class="headerlink" href="#void-homieenablelogging-bool-enable" title="Permanent link">&para;</a></h4>
<p>Enable or disable Homie Serial logging.
If logging is enabled, <code class="codehilite"><span class="err">Serial.begin(115200)</span></code> will be called internally.</p>
<ul>
<li><strong><code class="codehilite"><span class="err">enable</span></code></strong>: Whether or not to enable logging. By default, logging is enabled</li>
</ul>
<h4 id="void-homieenablebuiltinledindicator-bool-enable">void Homie.enableBuiltInLedIndicator (bool <code class="codehilite"><span class="err">enable</span></code>)<a class="headerlink" href="#void-homieenablebuiltinledindicator-bool-enable" title="Permanent link">&para;</a></h4>
<p>Enable or disable the built-in LED to indicate the Homie state.</p>
<ul>
<li><strong><code class="codehilite"><span class="err">enable</span></code></strong>: Whether or not to enable built-in LED. By default, it is enabled</li>
</ul>
<h4 id="void-homiesetledpin-unsigned-char-pin-unsigned-char-on">void Homie.setLedPin (unsigned char <code class="codehilite"><span class="err">pin</span></code>, unsigned char <code class="codehilite"><span class="err">on</span></code>)<a class="headerlink" href="#void-homiesetledpin-unsigned-char-pin-unsigned-char-on" title="Permanent link">&para;</a></h4>
<p>Set pin of the LED to control.</p>
<ul>
<li><strong><code class="codehilite"><span class="err">pin</span></code></strong>: LED to control</li>
<li><strong><code class="codehilite"><span class="err">on</span></code></strong>: state when the light is on (HIGH or LOW)</li>
</ul>
<h4 id="void-homiesetbrand-const-char42-name">void Homie.setBrand (const char* <code class="codehilite"><span class="err">name</span></code>)<a class="headerlink" href="#void-homiesetbrand-const-char42-name" title="Permanent link">&para;</a></h4>
<p>Set the brand of the device, used in the configuration AP, the device hostname and the MQTT client ID.</p>
<ul>
<li><strong><code class="codehilite"><span class="err">name</span></code></strong>: Name of the brand. Default value is <code class="codehilite"><span class="err">Homie</span></code></li>
</ul>
<h4 id="void-homiesetfirmware-const-char42-name-const-char42-version">void Homie.setFirmware (const char* <code class="codehilite"><span class="err">name</span></code>, const char* <code class="codehilite"><span class="err">version</span></code>)<a class="headerlink" href="#void-homiesetfirmware-const-char42-name-const-char42-version" title="Permanent link">&para;</a></h4>
<p>Set the name and version of the firmware. This is useful for OTA, as Homie will check against the server if there is a newer version.</p>
<ul>
<li><strong><code class="codehilite"><span class="err">name</span></code></strong>: Name of the firmware. Default value is <code class="codehilite"><span class="err">undefined</span></code></li>
<li><strong><code class="codehilite"><span class="err">version</span></code></strong>: Version of the firmware. Default value is <code class="codehilite"><span class="err">undefined</span></code></li>
</ul>
<h4 id="void-homieregisternode-homienode-node">void Homie.registerNode (HomieNode <code class="codehilite"><span class="err">node</span></code>)<a class="headerlink" href="#void-homieregisternode-homienode-node" title="Permanent link">&para;</a></h4>
<p>Register a node.</p>
<ul>
<li><strong><code class="codehilite"><span class="err">node</span></code></strong>: node to register</li>
</ul>
<h4 id="void-homiesetglobalinputhandler-stdfunction-handler">void Homie.setGlobalInputHandler (std::function<bool(String nodeId, String property, String value)> <code class="codehilite"><span class="err">handler</span></code>)<a class="headerlink" href="#void-homiesetglobalinputhandler-stdfunction-handler" title="Permanent link">&para;</a></h4>
<p>Set input handler for subscribed properties.</p>
<ul>
<li><strong><code class="codehilite"><span class="err">handler</span></code></strong>: Global input handler</li>
<li><strong><code class="codehilite"><span class="err">node</span></code></strong>: Name of the node getting updated</li>
<li><strong><code class="codehilite"><span class="err">property</span></code></strong>: Property of the node getting updated</li>
<li><strong><code class="codehilite"><span class="err">value</span></code></strong>: Value of the new property</li>
</ul>
<h4 id="void-homieonevent-stdfunction-callback">void Homie.onEvent (std::function<void(HomieEvent event)> <code class="codehilite"><span class="err">callback</span></code>)<a class="headerlink" href="#void-homieonevent-stdfunction-callback" title="Permanent link">&para;</a></h4>
<p>Set the event handler. Useful if you want to hook to Homie events.</p>
<ul>
<li><strong><code class="codehilite"><span class="err">callback</span></code></strong>: Event handler</li>
</ul>
<h4 id="void-homiesetresettrigger-unsigned-char-pin-unsigned-char-state-unsigned-int-time">void Homie.setResetTrigger (unsigned char <code class="codehilite"><span class="err">pin</span></code>, unsigned char <code class="codehilite"><span class="err">state</span></code>, unsigned int <code class="codehilite"><span class="err">time</span></code>)<a class="headerlink" href="#void-homiesetresettrigger-unsigned-char-pin-unsigned-char-state-unsigned-int-time" title="Permanent link">&para;</a></h4>
<p>Set the reset trigger. By default, the device will reset when pin <code class="codehilite"><span class="err">0</span></code> is <code class="codehilite"><span class="err">LOW</span></code> for <code class="codehilite"><span class="err">5000</span></code>ms.</p>
<ul>
<li><strong><code class="codehilite"><span class="err">pin</span></code></strong>: Pin of the reset trigger</li>
<li><strong><code class="codehilite"><span class="err">state</span></code></strong>: Reset when the pin reaches this state for the given time</li>
<li><strong><code class="codehilite"><span class="err">time</span></code></strong>: Time necessary to reset</li>
</ul>
<h4 id="void-homiedisableresettrigger">void Homie.disableResetTrigger ()<a class="headerlink" href="#void-homiedisableresettrigger" title="Permanent link">&para;</a></h4>
<p>Disable the reset trigger.</p>
<h4 id="void-homiesetresetfunction-stdfunction-callback">void Homie.setResetFunction (std::function<bool()> <code class="codehilite"><span class="err">callback</span></code>)<a class="headerlink" href="#void-homiesetresetfunction-stdfunction-callback" title="Permanent link">&para;</a></h4>
<p>Set the reset function. This is a function that is going to be called at each loop iteration, which can trigger a device reset. If the function returns true, the device resets. Else, it does not.</p>
<ul>
<li><strong><code class="codehilite"><span class="err">callback</span></code></strong>: Reset function</li>
</ul>
<h4 id="void-homiesetsetupfunction-stdfunction-callback">void Homie.setSetupFunction (std::function<void()> <code class="codehilite"><span class="err">callback</span></code>)<a class="headerlink" href="#void-homiesetsetupfunction-stdfunction-callback" title="Permanent link">&para;</a></h4>
<p>You can provide the function that will be called when operating in <code class="codehilite"><span class="err">normal</span></code> mode.</p>
<ul>
<li><strong><code class="codehilite"><span class="err">callback</span></code></strong>: Setup function</li>
</ul>
<h4 id="void-homiesetloopfunction-stdfunction-callback">void Homie.setLoopFunction (std::function<void()> <code class="codehilite"><span class="err">callback</span></code>)<a class="headerlink" href="#void-homiesetloopfunction-stdfunction-callback" title="Permanent link">&para;</a></h4>
<p>You can provide the function that will be looped in normal mode.</p>
<ul>
<li><strong><code class="codehilite"><span class="err">callback</span></code></strong>: Loop function</li>
</ul>
<h4 id="void-homiesetnodeproperty-homienode-node-string-property-string-value-bool-retained-true">void Homie.setNodeProperty (HomieNode <code class="codehilite"><span class="err">node</span></code>, String <code class="codehilite"><span class="err">property</span></code>, String <code class="codehilite"><span class="err">value</span></code>, bool <code class="codehilite"><span class="err">retained</span></code> = true)<a class="headerlink" href="#void-homiesetnodeproperty-homienode-node-string-property-string-value-bool-retained-true" title="Permanent link">&para;</a></h4>
<p>Using this function, you can set the value of a node property, like a temperature for example.</p>
<ul>
<li><strong><code class="codehilite"><span class="err">node</span></code></strong>: HomieNode instance on which to set the property on</li>
<li><strong><code class="codehilite"><span class="err">property</span></code></strong>: Property to send</li>
<li><strong><code class="codehilite"><span class="err">value</span></code></strong>: Payload</li>
<li><strong><code class="codehilite"><span class="err">retained</span></code></strong>: Optional. Should the MQTT broker retain this value, or is it a one-shot value?</li>
</ul>
<h4 id="void-homiesetresettable-bool-resettable">void Homie.setResettable (bool <code class="codehilite"><span class="err">resettable</span></code>)<a class="headerlink" href="#void-homiesetresettable-bool-resettable" title="Permanent link">&para;</a></h4>
<p>Is the device resettable? This is useful at runtime, because you might want the device not to be resettable when you have another library that is doing some unfinished work, like moving shutters for example.</p>
<ul>
<li><strong><code class="codehilite"><span class="err">resettable</span></code></strong>: Is the device resettable? Default value is <code class="codehilite"><span class="err">true</span></code></li>
</ul>
<h4 id="bool-homieisreadytooperate">bool Homie.isReadyToOperate ()<a class="headerlink" href="#bool-homieisreadytooperate" title="Permanent link">&para;</a></h4>
<p>Is the device in normal mode, configured and connected? You should not need this function. But maybe you will.</p>
<hr />
<h3 id="homienode-object">HomieNode object<a class="headerlink" href="#homienode-object" title="Permanent link">&para;</a></h3>
<h4 id="void-homienode-const-char42-id-const-char42-type-stdfunction-handler-bool-subscribetoall-false">void HomieNode (const char* <code class="codehilite"><span class="err">id</span></code>, const char* <code class="codehilite"><span class="err">type</span></code>, std::function<bool(String property, String value)> <code class="codehilite"><span class="err">handler</span></code> = , bool <code class="codehilite"><span class="err">subscribeToAll</span></code> = false)<a class="headerlink" href="#void-homienode-const-char42-id-const-char42-type-stdfunction-handler-bool-subscribetoall-false" title="Permanent link">&para;</a></h4>
<p>Constructor of a HomieNode object.</p>
<ul>
<li><strong><code class="codehilite"><span class="err">id</span></code></strong>: ID of the node</li>
<li><strong><code class="codehilite"><span class="err">type</span></code></strong>: Type of the node</li>
<li><strong><code class="codehilite"><span class="err">handler</span></code></strong>: Optional. Input handler of the node</li>
<li><strong><code class="codehilite"><span class="err">subscribeToAll</span></code></strong>: Optional. Whether or not to call the handler for every properties, even the ones not registered</li>
</ul>
<h4 id="void-subscribe-const-char42-property-stdfunction-handler">void .subscribe (const char* <code class="codehilite"><span class="err">property</span></code>, std::function<bool(String value)> <code class="codehilite"><span class="err">handler</span></code>) = )<a class="headerlink" href="#void-subscribe-const-char42-property-stdfunction-handler" title="Permanent link">&para;</a></h4>
<p>Subscribes the node to the given property.</p>
<ul>
<li><strong><code class="codehilite"><span class="err">property</span></code></strong>: Property to subscribe to</li>
<li><strong><code class="codehilite"><span class="err">handler</span></code></strong>: Optional. Input handler of the property of the node</li>
</ul>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../6.-Configuration-API/" title="Configuration API" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Configuration API
              </span>
            </div>
          </a>
        
        
          <a href="../8.-Limitations-and-known-issues/" title="Limitations and known issues" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Limitations and known issues
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.808e90bb.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>